---
const { thumbnail = "/assets/thumbnail.webp", alt = "Video Thumbnail" } = Astro.props;
---

<style>
.video-thumbnail-container {
  width: 50vw;
  height: 520px;
  overflow: hidden;
  border-radius: 5% 0 0 0;
  box-shadow: -10px 10px 60px rgba(0, 0, 0, 0.5);
  position: absolute;
  right: 0;
  top: 8vh;
  cursor: pointer;
  z-index: 1;
}

.video-thumbnail-container img {
  position: absolute;
  top: 50%;
  left: 50%;
  width: auto;
  height: 100%;
  transform: translate(-50%, -50%) scale(1.8);
  object-fit: cover;
  object-position: center center;
}

.play-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 50px;
  height: 50px;
  background-color: var(--bg-red);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.4s ease;
  box-shadow: 0 8px 30px rgba(254, 166, 85, 0.5);
}

.play-button i {
  color: var(--off-white);
  font-size: 20px;
  margin-left: 3px;
}

.play-button:hover {
  transform: translate(-50%, -50%) scale(1.15);
  box-shadow: 0 8px 40px rgba(246, 76, 45, 0.6);
``}

@media (max-width: 1024px) {
  .video-thumbnail-container {
    /* Override Desktop Absolute Positioning */
    position: relative; /* Change to flow with content */
    width: 100%; /* Full width for mobile */
    height: 250px; /* Reduced height for mobile viewports */
    top: 0; /* Clear the 'top: 8vh' */
    right: 0; /* Clear the 'right: 0' */
    margin-top: 30px; /* Add some spacing above it */
    border-radius: 0; /* Remove corner radius, make it a standard block */
    box-shadow: none; /* Reduce the intense shadow on mobile */
    z-index: 1;
  }

  .video-thumbnail-container img {
    /* Adjust image scale to be less 'zoomed in' on a smaller screen */
    transform: translate(-50%, -50%) scale(2);
  }

  .play-button {
    /* Slightly smaller play button for mobile */
    width: 40px;
    height: 40px;
    box-shadow: 0 4px 15px rgba(254, 166, 85, 0.5);
  }
  
  .play-button i {
    font-size: 16px;
  }
  
  .play-button:hover {
    /* Prevent hover effect from triggering on mobile devices */
    transform: translate(-50%, -50%);
    box-shadow: 0 4px 15px rgba(254, 166, 85, 0.5);
  }
}
</style>


<div class="video-thumbnail-container" id="videoThumbnail">
  <img src={thumbnail} alt={alt} />
  <div class="play-button">
    <i class="fas fa-play"></i>
  </div>
</div>

<script>
const thumb = document.getElementById('videoThumbnail');
if (thumb) {
  thumb.addEventListener('click', () => {
    window.dispatchEvent(new CustomEvent('openVideoModal'));
  });
}
</script>